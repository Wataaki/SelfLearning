# API. The Good Parts
## 2 章

### APIを設計する
必要な機能を洗い出し、画面遷移図に書き出す
機能ごとに必要なAPIを洗い出す
APIとして統合できそうな機能を考える（e.g. 一覧取得と検索機能）

### エンドポイントを考える
覚えやすく、一目でどんな機能を持つかがわかるようにする

#### 短く入力しやすいURI
  - 語句の重複や不要なものは排除する
#### 人間が読んで理解できるURI
  - URIをみただけで、どのようなものかがわかるものが望ましい
  - 略しすぎ英語は良くない（e.g. user => u）
  - ただし、標準化されているものは可 (e.g. japan => jp)
  - 一般的にAPIで良く使われている単語を使う (e.g. find => search)
#### 大文字小文字の混在しないURI
  - 小文字で統一するのがよい
  - しかし、大文字混在でのアクセスをどのように処理するのかは考える
  - 一般的には 404 で返すのが多いかも
#### 改造しやすいURI (Hackable)
  - URIを改修してほかのURIにするのが容易
  - :id など
  - 規則性をもち、ほかのURIを連想しやすい
#### サーバ側のアーキテクチャが反映されていないURI
  - 言語、ディレクトリ構成、システム構成などの情報
  - ユーザには一切必要のない情報
  - 構成を晒すことによって、攻撃を受けるリスクにもなりえる
#### ルールが統一されたURI
  - id なんかをクエリパラメータとするのか、URIの一部にするのか

### HTTPメソッドとエンドポイント
GET/POST との関係性は大事
URIとメソッドの関係は、操作するものと操作方法の関係

|メソッド|説明|
|-|-|
|GET|リソースの取得|
|POST|リソースの新規登録|
|PUT|既存リソースの更新|
|DELETE|リソースの削除|
|PATCH|リソースの一部変更|
|HEAD|リソースのメタ情報の取得|

#### GETメソッド
  - URIで指定したリソースを取得する
  - サーバ上のリソースが変更されることはない
