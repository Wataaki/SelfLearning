# EBS (Amazon Elastic Block Store)  
ブロックストレージサービス。  
EC2 の OS 領域として利用されたり、  
追加ボリュームとして複数の EBS を EC2 にアタッチすることができる。  
単一かつ同じ AZ の EC2 のみアタッチ可能。  
別 AZ の EC2 にアタッチしたい場合、スナップショットを利用する必要がある。  

## EBS のボリュームタイプ
EBS のボリュームタイプは SSD で 2 種類、 HDD で 2 種類の系 4 種類。  
- 汎用 SSD (gp2)  
- プロビジョンド IOPS SSD (io1)  
- スループット最適化 HDD (st1)  
- Cold HDD (sc1)  

### 汎用 SSD (gp2)  
EBS の中で最も一般的な SSD をベースとしたボリュームタイプ。  
EC2 インスタンスを作成する際のデフォルトボリュームタイプ。  
性能の指標として **IOPS** を用いる。  
1TB 未満のボリュームには一時的な IOPS の上昇に対応できるようバースト機能が用意されている。  

### プロビジョンド IOPS SSD (io1)  
EBS の中でもっとも高性能な SSD をベースとしたボリュームタイプ。  
RDS と EC2 インスタンスでデータベースサーバを構成する場合など、高い IOPS 性能が求められる際に利用される。  

### スループット最適化 HDD (st1)  
HDD をベースとしたスループット重視のボリュームタイプ。  
ログデータに対する処理やバッチ処理のインプット用ファイルなど、大容量ファイルを高速に読み取るような場合に適している。  

### Cold HDD (sc1)
4 つのストレージタイプの中で最も低コストなボリュームタイプ。  
アクセス頻度の低いデータのアーカイブに適している。  

## ベースライン性能とバースト性能  
ストレージの容量に応じてベースライン性能がある。  
処理量の一時的な増加に対応可能なバースト性能という指標もある。  


## EBS の拡張・変更  
注意点: 変更作業を行った EBS と同一の EBS に変更を行うには 6 時間開ける必要がある。  

### 容量拡張
全てのタイプの EBS は 1 ボリュームあたりの大大容量は 16 TB。  
必要に応じてなんども拡張できるが、縮小はできない。  
一時的に容量が必要な場合は、新規 EBS をアタッチし、不要になったらデタッチするのも良い。  

### ボリュームタイプの変更  
現行世代間でのタイプ変更が可能。  
IOPS の変更には最大 24 時間以上かかる場合もある。  

### 可用性・耐久性
内部的に AZ 内の複数の物理ディスクに複製画行われており、 AWS 内で物理的な故障が発生した場合でも  
利用者が意識することはほとんどない。  
また、 EBS にはスナップショット機能もあるため、定期的にバックアップを取得することで必要な時点の状態に戻すことができる。  
スナップショットから作成した新規 EBS ボリュームを作成し、 EC2 インスタンスにアタッチすることで実現。  

### セキュリティ  
ストレージ自体を暗号化するオプションがある。  
暗号化されたボリュームから取得したスナップショットも暗号化されている。  
