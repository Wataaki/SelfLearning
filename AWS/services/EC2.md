# EC2 (Amazon Elastic Compute Cloud)  
仮想サーバーを提供するサービス  
インスタンスという単位で管理される。  
オンプレミス環境に比べ、サーバー調達のリードタイムを短くできる。  
インスタンスの数の増減、性能を上げ下げが簡単にできる。  
EC2 を起動する時は、元となるイメージを選んでインスタンスを作成する。  
このイメージを AMI (Amazon Machine Image) と呼ぶ。  

## AMI (Amazon Machine Image)  
Linux, RedHat, Windows など、 AWS が標準で提供しているものや  
ベンダーがサービスをプリインしたイメージなどがある。  
利用者がインスタンスの断面を AMI としてバックアップすることも可能。  

## EC2 における性能の考え方  
EC2 ではインスタンスタイプという形で、インスタンスのスペックを選択する。  
[EBS](../services/EBS.md) というディスク機能もスペックに関わってくる。  
EBS用の帯域が確保される、 EBS 最適化オプションが存在する。  

### インスタンスタイプ  
インスタンスのスペック。 (m4.lager, p2.8xlager)  
先頭の「m, p」はインスタンスファミリーを表し、何に最適化しているかを表す。  
インスタンスファミリーの後ろの数字は世代を表す。  
「.」より後ろは インスタンスサイズを表す。  

### スケールアップ  
垂直にスペックをあげること  

### スケールアウト  
EC2 を水平に並べること  

## 費用の考え方  
従量課金  
インスタンスの状態には、起動中 (Running)、停止中 (Stopped)、削除済み (Terminated) の 3 種類があり、  
起動中のみ課金対象となるが、 EBS は停止中でも費用がかかるので注意。  
リージョン、インスタンスタイプなどで費用が変化する。  

## スポットインスタンスとリザーブインスタンス  
EC2 の利用形態  

### オンデマンドインスタンス  
通常の利用形態  

### スポットインスタンス  
AWS が余らせている EC2 リソースを入札形式で安く利用する方式。  
ただし、余ったリソースがなくなった場合、インスタンスが自動で中断されるので注意。  

### リザーブドインスタンス  
長期間の利用を約束することで割引を受けられる。  
