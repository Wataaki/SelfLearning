# IAM (AWS Identify and Access Management)  
あいあむ  
権限管理、セキュリティ  

## 認証ID  
- Auth_Role  
  - 認証されたID  
- Unauth_Role  
  - 認証されていないID  

## 認証期間  
割と自由にカスタムできる  

## IAM の機能

### ユーザーに権限を付与する流れ  
1. AWS サービスや AWS リソースに対する操作権限を IAM ポリシーとして定義する。  
2. IAM ポリシーを IAM ユーザーや IAM グループにアタッチする。  

### IAM ポリシー  
Action(どのサービスの) Resource(どういう機能や範囲を) Effect(許可 / 拒否) という 3 つのルールに基づいて権限を設定する。  
ポリシーに IAM ポリシー、IAM グループ、IAM ロール に付与することで権限の制御をおこなう。  

#### インラインポリシーと管理 (マネージド) ポリシー  
権限をオブジェクトとして管理することが可能。これをポリシーという。  
- インラインポリシー  
  対象ごとに作成・付与するポリシーで、複数のユーザー・グループに同種の権限を付与することには向いていない。  
- 管理ポリシー  
  １つのポリシーを複数のユーザーやグループに適応できる。  
- AWS 管理ポリシー  
  AWS が用意しているポリシー  
- カスタマー管理ポリシー  
  ユーザー自身が管理するポリシー  

### IAM ユーザー
AWS を利用するために各利用者に 1 つずつ与えられる認証情報。  
#### IAM ユーザーの認証方法  
- ユーザー ID とパスワード  
  Web コンソールにログインするときに使用する。  
- アクセスキーとシークレットアクセスキー  
  CLI や API から AWS のリソースにアクセスする場合に使用する。  

### IAM グループ  
同じ権限を持ったユーザーの集まり。  
グループは AWS へのアクセス認証情報は保持しない。  
認証されたユーザーがどういった権限を持つかを管理する。  
グループの目的は、権限を容易かつ正確に管理すること。  
ユーザーとグループは多対多の関係を持つことができる。  

### IAM ロール  
永続的な権限を保持するユーザーとは異なり、一時的に AWS リソースへのアクセス権限を付与する場合に使用する。  
#### 使用例
- AWS リソースへの権限付与  
  EC2 インスタンス上で稼働するアプリケーションに一時的に AWS のリソースへアクセスする権限を与えたい
- クロスアカウントアクセス  
  複数の AWS アカウント間のリソースを 1 つの IAM ユーザーで操作したい。  
- ID フェデレーション  
  社内の AD サーバーに登録されているアカウントを利用して AWS リソースにアクセスしたい。  
- Web ID フェデレーション  
  Facebook や Google のアカウントを使用して AWS リソースにアクセスしたい。  
