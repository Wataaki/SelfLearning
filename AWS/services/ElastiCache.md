# Amazon ElastiCache  
インメモリキャッシュサービス。  
データベースの負荷を軽減する。  
2 種類のエンジンをサポートしている。  
- Memcached  
  KVS 型インメモリデータベースのデファクトスタンダードとして広く利用されているエンジン。  
  データの永続化機能はない。  
- Redis  
  KVS 型インメモリデータベースで Memcached より多くのデータ型が扱える。  
  キャッシュ用途だけでなく、メッセージブローカーやキューを構成する要素としても利用される。  

## Memcached 版 ElastiCache の特徴  
### クラスタ構成  
最大 20 の ElastiCache インスタンスで構成される。  
保存されるデータは各インスタンスに分散される。  
可用性を考慮して複数の AZ にインスタンスを作成すると良い。  
クラスタを作成すると 2 種類のアクセス用エンドポイントが作成される。  
- ノードエンドポイント  
  クラスタ内の各ノードに個別アクセスするためのエンドポイント。  
- 設定エンドポイント
  クラスタ全体に割り当てられるエンドポイント。  

### スケーリング  
スケールアウト、スケールイン、スケールアップ、スケールダウンの 4 つのスケーリングから調整できる。  

## Redis 版 ElastiCache の特徴  
### クラスタ構成  
クラスタモードの有効 / 無効に応じて冗長化の構成が変わる。  
- クラスタモード無効  
  キャッシュデータは全て 1 つの ElastiCache インスタンスに保存される。  
  同じデータを持つリードレプリカを最大 5 つまで作成できる。  
  マスターインスタンスとリードレプリカのまとまりを **シャード** と呼ぶ。  
- クラスタモード有効  
  最大 15 のシャードにデータを分割して保存する構成が可能。  
  リードレプリカは 1 つのシャードに対して最大 5 つまで作成できる。  

### スケーリング  
クラスタモードを有効にすると、クラスタ作成後に「インスタンスタイプ」「リードレプリカの追加 / 削除」「シャードの追加 / 削除」の変更ができない。  

### CPU 使用率  
Redis はシングルスレッド。
1 コアのみで動作する。  

### データの暗号化  
暗号化に対応しているのは Redis 版のみ。  
