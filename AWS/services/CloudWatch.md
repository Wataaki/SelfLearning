# Amazon CloudWatch  
監視サービス。  
定期的に AWS リソースの状態を取得し、問題がある場合に通知するサービス。  
「問題がある」状態を定義することができ、ログの監視やトリガーの定義と後続処理の機能などが提供されている。  
トラブルが起きた時に自動的に復旧する、不具合を最小限に止めるようなフォールトトレラントな設計ができるようにしよう。  

## メトリクス
各 AWS リソースの状態を定期的に取得する。  
AWS があらかじめ定義しているもの => **標準メトリクス**  
利用者が独自に定義したもの => **カスタムメトリクス**  
これらのメトリクスを選択しアラームを定義する。  

## アラーム
```
e.g.: web サーバ用の ec2 インスタンスの CPU 使用率が 80% を上回ったとき
      定期実行する Lambda 関数が一定期間に 3 回以上エラーを出したとき
```
アラームの条件を満たした時に別サービスの SNS に通知したりできる。  

## CloudWatch Logs
ログをモニタリングするサービス。  
利用するには、独自のエージェントをインストールする必要がある。  
収集したログにアラームを設定することができる。  
```
e.g.: [ERROR] から始まる行があったとき
      [WARN] から始まる行が一定期間に 3 行以上あったとき
```

## CloudWatch Events
独自のトリガーと後続アクションとの組み合わせを定義するサービス。  
CloudWatch Events を利用することで、各サービスをよりシームレスに連携することができる。  

### 独自のトリガー: イベントソース  
イベントソースには大きく 2 つの種類がある。  
- スケジュール  
  期間・時間ベースのトリガー定義  
- イベント  
  AWS リソースの状態変化をトリガーにする。  

### 後続アクション: ターゲット  
既存の AWS リソースに対するアクションを定義する。 (e.g.: Lambda 関数をキックする)  
1 つのイベントソースに対して複数のターゲットを定義することもできる。  
